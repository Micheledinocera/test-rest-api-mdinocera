(function(t){function e(e){for(var i,a,r=e[0],c=e[1],u=e[2],l=0,m=[];l<r.length;l++)a=r[l],o[a]&&m.push(o[a][0]),o[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);d&&d(e);while(m.length)m.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(i=!1)}i&&(s.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},o={app:0},s=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var d=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1845:function(t,e,n){"use strict";var i=n("ddf3"),o=n.n(i);o.a},"1dc3":function(t,e,n){"use strict";var i=n("2c83"),o=n.n(i);o.a},"2c83":function(t,e,n){},"53f8":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("notifications",{attrs:{group:"notifications",position:"top left"}}),n("VueLoading",{attrs:{active:t.visible,"can-cancel":!0,"is-full-page":!0,loader:"dots"},on:{"update:active":function(e){t.visible=e}}}),n("nav",[n("router-link",{attrs:{to:"/"}},[t._v("Classifica")]),n("router-link",{attrs:{to:"/points"}},[t._v("History")]),n("router-link",{attrs:{to:"/admin"}},[t._v("Admin")])],1),n("router-view")],1)},s=[],a=n("faa1"),r=new a["EventEmitter"],c=n("9062"),u=n.n(c),d={name:"app",components:{VueLoading:u.a},data:function(){return{}},created:function(){r.on("notify-error-rest",this.notifyErrorRestHandler)},methods:{notifyErrorRestHandler:function(t){this.$notify(t)}},computed:{visible:function(){return this.$store.getters.getVisible}}},l=d,m=(n("dda2"),n("2877")),p=Object(m["a"])(l,o,s,!1,null,null,null),f=p.exports,v=n("9f7b"),h=n.n(v),g=n("7bb1"),b=n("ee98"),E=n.n(b),_=n("8c4f"),O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[n("div",{staticClass:"holder"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.addItem(e)}}},[n("transition",{attrs:{name:"alert-in","enter-active-class":"animated flipInX","leave-active-class":"animated flipOutX"}},[t.errors.has("skill")?n("p",{staticClass:"alert"},[t._v(t._s(t.errors.first("skill")))]):t._e()]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.skill,expression:"skill"},{name:"validate",rawName:"v-validate",value:"min:5",expression:"'min:5'"}],attrs:{type:"text",placeholder:"Enter an user name here...",name:"skill"},domProps:{value:t.skill},on:{input:function(e){e.target.composing||(t.skill=e.target.value)}}})],1),n("ul",[n("transition-group",{attrs:{name:"list","enter-active-class":"animated bounceInUp","leave-active-class":"animated bounceOutDown"}},t._l(t.users.users,function(e,i){return n("li",{key:"users"+i},[e.isEditing?n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"item.name"}],attrs:{type:"text"},domProps:{value:e.name},on:{input:function(n){n.target.composing||t.$set(e,"name",n.target.value)}}}):n("span",[t._v(t._s(i+1)+" . "+t._s(e.name)+" : "+t._s(e.points))]),n("button",{staticClass:"btn delete",on:{click:function(n){return t.deleteItem(e.id)}}}),e.isEditing?n("button",{staticClass:"btn done",on:{click:function(n){return t.renameItem(e)}}}):n("button",{staticClass:"btn edit",on:{click:function(n){return t.editItem(e)}}})])}),0)],1),!t.users.users.length>0?n("p",[t._v("Add some users. :(")]):t._e()])])},w=[],j=n("cebc"),y=n("2f62"),k={name:"Skills",data:function(){return{skill:""}},computed:Object(j["a"])({},Object(y["d"])(["users"])),mounted:function(){this.$store.dispatch("getUsers")},methods:{deleteItem:function(t){this.$store.dispatch("deleteUser",t)},editItem:function(t){t.isEditing=!0},renameItem:function(t){this.$store.dispatch("updateUser",t)},addItem:function(){var t=this;this.$validator.validateAll().then(function(e){e?t.$store.dispatch("addUser",t.skill):t.$notify({group:"notifications",title:"Warning",text:"Not valid input",type:"warn"})})}}},x=k,U=(n("e9b0"),Object(m["a"])(x,O,w,!1,null,"094a5fbb",null)),T=U.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("ul",[n("transition-group",{attrs:{name:"list","enter-active-class":"animated bounceInUp","leave-active-class":"animated bounceOutDown"}},t._l(t.transictions.transictions,function(e,i){return n("li",{key:"transaction"+i},[n("span",[t._v(t._s(e.created_on)+" "+t._s(e.name)+" - "+t._s(e.description)+" : "+t._s(e.points))])])}),0)],1)])},P=[],I={name:"Points",computed:Object(j["a"])({},Object(y["d"])(["transictions"])),mounted:function(){this.$store.dispatch("getTransictions")}},C=I,F=(n("1dc3"),Object(m["a"])(C,$,P,!1,null,"4b0ffc1d",null)),A=F.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.getAdmin.isLoggedIn?n("div",[n("b-form-select",{model:{value:t.name,callback:function(e){t.name=e},expression:"name"}},t._l(t.users.users,function(e,i){return n("option",{key:"names"+i,domProps:{value:e.name}},[t._v(t._s(e.name))])}),0),n("input",{directives:[{name:"model",rawName:"v-model",value:t.points,expression:"points"}],attrs:{type:"number",placeholder:"Points"},domProps:{value:t.points},on:{input:function(e){e.target.composing||(t.points=e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{type:"text",placeholder:"Description"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}}),n("button",{staticClass:"btn save",attrs:{disabled:""==t.description||""==t.points},on:{click:t.saveTransition}}),n("button",{staticClass:"btn send",attrs:{disabled:""==t.name||""==t.description||""==t.points},on:{click:function(e){return t.sendTransition(t.description,t.points)}}}),n("ul",{attrs:{id:"favorites"}},[n("transition-group",{attrs:{name:"list","enter-active-class":"animated bounceInUp","leave-active-class":"animated bounceOutDown"}},t._l(t.favorites.favorites,function(e,i){return n("li",{key:"favorite"+i},[n("span",[t._v(t._s(e.name)+" : "+t._s(e.points))]),n("button",{staticClass:"btn send",attrs:{disabled:""==t.name},on:{click:function(n){return t.sendTransition(e.name,e.points)}}})])}),0)],1)],1):n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",placeholder:"Username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),n("button",{staticClass:"btn send",on:{click:function(e){return t.login({username:t.username,password:t.password})}}})])])},S=[],N=(n("7f7f"),{name:"Admin",data:function(){return{username:"",password:"",description:"",points:"",name:""}},computed:Object(j["a"])({},Object(y["d"])(["users","favorites"]),Object(y["c"])(["getAdmin"])),mounted:function(){this.$store.dispatch("getUsers"),this.$store.dispatch("getFavorites")},methods:Object(j["a"])({},Object(y["b"])(["login","addTransiction","addFavorite"]),{sendTransition:function(t,e){this.addTransiction({name:this.name,description:t,points:e}).then(function(){r.emit("notify-error-rest",{group:"notifications",title:"Transiction Complete",type:"success"})})},saveTransition:function(){this.addFavorite({name:this.description,points:this.points})}})}),R=N,D=(n("1845"),Object(m["a"])(R,L,S,!1,null,"c0570694",null)),M=D.exports;i["default"].use(_["a"]);var V=new _["a"]({routes:[{path:"/",name:"skills",component:T},{path:"/points",name:"points",component:A},{path:"/admin",name:"admin",component:M}]}),H=(n("ac6a"),n("795b")),B=n.n(H),J=n("d225"),X=n("bd86"),W=function t(){Object(J["a"])(this,t)};Object(X["a"])(W,"BASEURL","https://test-rest-api-mdinocera.herokuapp.com/api/");var q=n("bc3a"),z=n.n(q),G=n("a7fe"),K=n.n(G);i["default"].use(K.a,z.a);var Q=z.a.create({baseURL:W.BASEURL});Q.interceptors.response.use(function(t){return t},function(t){return r.emit("notify-error-rest",{group:"notifications",title:void 0!=t.response?"CODE:"+t.response.statusText+" - "+t.response.statusText:"ERROR",text:void 0!=t.response?t.response.data.message:t.message+" for rest call at url: "+(void 0!=t.response?t.response.config.url:t.config.url),type:"error"}),B.a.reject(t)});var Y=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(J["a"])(this,t),Object(X["a"])(this,"name",""),Object(X["a"])(this,"id",0),Object(X["a"])(this,"points",0),Object(X["a"])(this,"isEditing",!1),this.name=e.name?e.name:"",this.id=e.id?e.id:0,this.points=e.points?e.points:0},Z={state:{users:[]},getters:{getUsers:function(t){return t.users}},mutations:{setUsers:function(t,e){return t.users=e}},actions:{getUsers:function(t){t.commit("loadingEvent",!0),Q.get("users").then(function(e){var n=[];e.data.forEach(function(t){return n.push(new Y(t))}),t.commit("setUsers",n)}).then(function(){return t.commit("loadingEvent",!1)})},deleteUser:function(t,e){t.commit("loadingEvent",!0),Q.delete("user/"+e).then(function(e){var n=[];e.data.forEach(function(t){return n.push(new Y(t))}),t.commit("setUsers",n)}).then(function(){return t.commit("loadingEvent",!1)})},updateUser:function(t,e){t.commit("loadingEvent",!0),Q.put("user/"+e.id,{name:e.name}).then(function(e){var n=[];e.data.forEach(function(t){return n.push(new Y(t))}),t.commit("setUsers",n)}).then(function(){return t.commit("loadingEvent",!1)})},addUser:function(t,e){t.commit("loadingEvent",!0),Q.post("user",{name:e}).then(function(e){var n=[];e.data.forEach(function(t){return n.push(new Y(t))}),t.commit("setUsers",n)}).then(function(){return t.commit("loadingEvent",!1)})}}},tt=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(J["a"])(this,t),Object(X["a"])(this,"name",""),Object(X["a"])(this,"points",0),Object(X["a"])(this,"id",0),Object(X["a"])(this,"description",""),Object(X["a"])(this,"created_on",""),this.name=e.name?e.name:"",this.id=e.id?e.id:0,this.description=e.description?e.description:"",this.points=e.points?e.points:0,this.created_on=e.created_on?Date(1e3*e.created_on):""},et={state:{transictions:[]},getters:{getTransictions:function(t){return t.transictions}},mutations:{setTransictions:function(t,e){return t.transictions=e}},actions:{getTransictions:function(t){t.commit("loadingEvent",!0),Q.get("transitions").then(function(e){var n=[];e.data.forEach(function(t){return n.push(new tt(t))}),t.commit("setTransictions",n)}).then(function(){return t.commit("loadingEvent",!1)})},addTransiction:function(t,e){t.commit("loadingEvent",!0),Q.post("user/points",e).then(function(e){var n=[];e.data.forEach(function(t){return n.push(new tt(t))}),t.dispatch("getTransictions")}).then(function(){return t.commit("loadingEvent",!1)})}}},nt=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(J["a"])(this,t),Object(X["a"])(this,"id",0),Object(X["a"])(this,"points",0),Object(X["a"])(this,"created_on",""),Object(X["a"])(this,"name",""),this.name=e.description?e.description:"",this.created_on=e.created_on?e.created_on:"",this.points=e.points?e.points:0,this.id=e.id?e.id:0},it={state:{favorites:[]},getters:{getFavorites:function(t){return t.favorites}},mutations:{setFavorites:function(t,e){return t.favorites=e}},actions:{getFavorites:function(t){t.commit("loadingEvent",!0),Q.get("favorites").then(function(e){var n=[];e.data.forEach(function(t){return n.push(new nt(t))}),t.commit("setFavorites",n)}).then(function(){return t.commit("loadingEvent",!1)})},deleteFavorite:function(t,e){t.commit("loadingEvent",!0),Q.delete("favorite/"+e).then(function(e){var n=[];e.data.forEach(function(t){return n.push(new nt(t))}),t.commit("setFavorites",n)}).then(function(){return t.commit("loadingEvent",!1)})},updateFavorite:function(t,e){t.commit("loadingEvent",!0),Q.post("favorite/update",{id:e.id,points:e.points,description:e.name}).then(function(e){var n=[];e.data.forEach(function(t){return n.push(new nt(t))}),t.commit("setFavorites",n)}).then(function(){return t.commit("loadingEvent",!1)})},addFavorite:function(t,e){t.commit("loadingEvent",!0),Q.post("favorite",{points:e.points,description:e.name}).then(function(e){var n=[];e.data.forEach(function(t){return n.push(new nt(t))}),t.commit("setFavorites",n)}).then(function(){return t.commit("loadingEvent",!1)})}}};i["default"].use(y["a"]);var ot=new y["a"].Store({state:{visible:!1,admin:{isLoggedIn:!1,name:""}},getters:{getVisible:function(t){return t.visible},getAdmin:function(t){return t.admin}},actions:{loadingEvent:function(t,e){return t.commit("loadingEvent",e)},login:function(t,e){t.commit("loadingEvent",!0),Q.post("owner/login",e).then(function(){t.commit("login","mdinocera")}).catch(function(){return t.commit("loadingEvent",!1)}).then(function(){return t.commit("loadingEvent",!1)}).then(function(){r.emit("notify-error-rest",{group:"notifications",title:"Login Complete",type:"success"})})}},mutations:{loadingEvent:function(t,e){return t.visible=e},login:function(t,e){return t.admin={isLoggedIn:!0,name:e}}},modules:{users:Z,transictions:et,favorites:it}});n("f9e3"),n("2dd8");i["default"].use(h.a),i["default"].use(g["a"]),i["default"].use(E.a),i["default"].config.productionTip=!1,new i["default"]({router:V,store:ot,render:function(t){return t(f)}}).$mount("#app")},"9c7a":function(t,e,n){},dda2:function(t,e,n){"use strict";var i=n("53f8"),o=n.n(i);o.a},ddf3:function(t,e,n){},e9b0:function(t,e,n){"use strict";var i=n("9c7a"),o=n.n(i);o.a}});
//# sourceMappingURL=app.3afc3465.js.map